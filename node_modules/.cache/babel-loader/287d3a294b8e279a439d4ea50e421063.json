{"ast":null,"code":"import axios from 'axios';\nimport axios2 from 'vue-axios'; // import $ from 'jquery'\n\nimport { base_url } from '../../../Config.js';\nimport { VueEditor } from 'vue3-editor';\nexport default {\n  name: 'ButtonGroups',\n  components: {\n    VueEditor\n  },\n\n  data() {\n    return {\n      category: [],\n      option_no: 1,\n      question: '',\n      question_type: '',\n      question_tag: [],\n      // multiple_ans: true,\n      // single_ans: false,\n      // true_false: false,\n      mul_obj: [{\n        no: 1,\n        checkbox_radio: 1,\n        com: 1\n      }]\n    };\n  },\n\n  Created() {\n    this.login();\n  },\n\n  methods: {\n    async login() {\n      let data = {\n        username: 'Admin',\n        password: '123456789'\n      };\n      await axios.post(`${base_url}/login`, data).then(response => {\n        let token = response.data.token;\n        let userInfo = response.data.user;\n        localStorage.setItem('auth-token', token);\n        localStorage.setItem('user-info', JSON.stringify(userInfo));\n      });\n    },\n\n    getCategory() {\n      let token = localStorage.getItem('auth-token');\n      console.warn(token);\n      var BASE_URL = base_url;\n      var ENDPOINT = 'question-categories'; // await axios\n      //   .create({\n      //     baseURL: BASE_URL,\n      //     headers: {\n      //       Accept: 'application/json',\n      //       Authorization: 'Bearer ' + token,\n      //     },\n      //   })\n      //   .get(ENDPOINT)\n      //   .then((res) => {\n      //     console.log(res)\n      //     this.category = res.data.question_categories\n      //   })\n\n      axios2.get(`${BASE_URL}/question-categories`, {\n        headers: {\n          Accept: 'application/json',\n          Authorization: 'Bearer ' + token\n        }\n      }).then(response => {\n        console.log(response.data);\n      }).catch(error => {\n        console.log(error);\n      });\n    },\n\n    addNew() {\n      let no = this.option_no + 1;\n      this.option_no = no;\n      let obj = {\n        no: this.option_no,\n        checkbox_radio: this.option_no,\n        com: this.option_no\n      };\n      this.mul_obj.push(obj);\n    },\n\n    delOption() {\n      if (this.mul_obj.length > 1) {\n        this.mul_obj.pop();\n        let no = this.option_no - 1;\n        this.option_no = no;\n        console.log(this.option_no);\n      } // var option = document.getElementById('options_for_multiple_ans')\n      // if (this.option_no > 1) {\n      //   option.removeChild(option.lastChild)\n      //   this.option_no = this.option_no - 1\n      // }\n\n    },\n\n    type() {\n      this.question_type = this.$refs.question_type.value;\n\n      if (this.$refs.question_type.value == 'checkbox') {\n        this.multiple_ans = true;\n        this.single_ans = false;\n        this.true_false = false;\n      } else if (this.$refs.question_type.value == 'radio') {\n        this.multiple_ans = false;\n        this.single_ans = true;\n        this.true_false = false;\n      } else {\n        this.multiple_ans = false;\n        this.single_ans = false;\n        this.true_false = true;\n      }\n    },\n\n    addQuestion() {// let question_type = this.question_type\n      // let question_tag = this.question_tag\n      // let question = this.question\n      // let options = this.option_no\n      // let op = ''\n      //   for (let i = 0; i < options; i++) {\n      //     if(options.length==1){\n      //  op+=\n      //     }\n    },\n\n    handleImageAdded: function (file, Editor, cursorLocation, resetUploader) {\n      var formData = new FormData();\n      formData.append('image', file);\n      axios({\n        url: `${base_url}/upload`,\n        method: 'POST',\n        data: formData\n      }).then(result => {\n        console.log(result);\n        const base_url = result.data.base_url; // Get url from response\n\n        const image_url = result.data.img_url;\n        const url = base_url + '/' + image_url;\n        Editor.insertEmbed(cursorLocation, 'image', url);\n        resetUploader();\n      }).catch(err => {\n        console.log(err);\n      });\n    }\n  },\n\n  mounted() {//this.getCategory()\n  },\n\n  beforeMount() {\n    this.getCategory();\n  }\n\n};","map":{"version":3,"mappings":"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","names":["axios","axios2","base_url","VueEditor","name","components","data","category","option_no","question","question_type","question_tag","mul_obj","no","checkbox_radio","com","Created","login","methods","username","password","post","then","response","token","userInfo","user","localStorage","setItem","JSON","stringify","getCategory","getItem","console","warn","BASE_URL","ENDPOINT","get","headers","Accept","Authorization","log","catch","error","addNew","obj","push","delOption","length","pop","type","$refs","value","multiple_ans","single_ans","true_false","addQuestion","handleImageAdded","file","Editor","cursorLocation","resetUploader","formData","FormData","append","url","method","result","image_url","img_url","insertEmbed","err","mounted","beforeMount"],"sourceRoot":"","sources":["E:\\assessmentCenter\\ac-frontend-reactjs\\src\\views\\buttons\\ButtonGroups.vue"],"sourcesContent":["<template>\n  <div class=\"card\">\n    <div class=\"card-body\">\n      <h5 class=\"card-title\">New Question Create</h5>\n      <hr />\n      <div class=\"row\">\n        <div class=\"col-md-6\">\n          <label>Question Type</label>\n          <select\n            class=\"form-select\"\n            aria-label=\"Default select example\"\n            placeholder=\"select Type\"\n            ref=\"question_type\"\n            @change=\"type()\"\n          >\n            <option selected value=\"checkbox\">MCQ (Multiple Answer)</option>\n            <option value=\"radio\">MCQ (Single Answer)</option>\n            <option value=\"truefalse\">True or False</option>\n          </select>\n        </div>\n        <div class=\"col-md-6\">\n          <label>Question Tag</label>\n          <select\n            multiple\n            class=\"form-select qus_tag\"\n            aria-label=\"Default select example\"\n            v-model=\"question_tag\"\n          >\n            <option :value=\"item.id\" v-for=\"item in category\" :key=\"item.id\">\n              {{ item.name }}\n            </option>\n          </select>\n        </div>\n      </div>\n\n      <div class=\"row mt-2\">\n        <label>Question</label>\n\n        <div class=\"p-3\">\n          <vue-editor\n            id=\"question\"\n            ref=\"question\"\n            useCustomImageHandler\n            @image-added=\"handleImageAdded\"\n            v-model=\"question\"\n          >\n          </vue-editor>\n        </div>\n      </div>\n\n      <div>\n        <p>\n          <span v-if=\"!true_false\">Add options and </span> Tick the correct\n          option\n        </p>\n      </div>\n\n      <div v-if=\"multiple_ans\" id=\"options_for_multiple_ans\">\n        <div v-for=\"(item, index) in mul_obj\" :key=\"index + 1\">\n          <div class=\"row mt-2\">\n            <div class=\"col-sm-1\">{{ item.no }}.</div>\n            <div class=\"col-sm-1\">\n              <input\n                type=\"checkbox\"\n                :id=\"'option-' + item.no\"\n                :value=\"'option-' + item.no\"\n                :ref=\"'option_' + item.no\"\n              />\n            </div>\n            <div class=\"col-sm-10\">\n              <vue-editor\n                :id=\"'option_text-' + item.no\"\n                :ref=\"'option_text-' + item.no\"\n                useCustomImageHandler\n                @image-added=\"handleImageAdded\"\n              >\n              </vue-editor>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      <!-- <div v-if=\"single_ans\" id=\"options_for_single_ans\">\n        <div v-for=\"(item, index) in mul_obj\" :key=\"index + 1\">\n          <div class=\"row mt-2\">\n            <div class=\"col-sm-1\">{{ item.no }}.</div>\n            <div class=\"col-sm-1\">\n              <input\n                type=\"radio\"\n                :id=\"'option-' + item.no\"\n                :value=\"'option_' + item.no\"\n                :ref=\"'option-' + item.no\"\n                name=\"single_ans\"\n              />\n            </div>\n            <div class=\"col-sm-10\">\n              <vue-editor\n                :id=\"'option_text-' + item.no\"\n                :ref=\"'option_text-' + item.no\"\n                useCustomImageHandler\n                @image-added=\"handleImageAdded\"\n              >\n              </vue-editor>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      <div v-if=\"true_false\" id=\"options_for_true_false_ans\">\n        <div class=\"row mt-2\">\n          <div class=\"col-sm-1\">1</div>\n          <div class=\"col-sm-1\">\n            <input\n              type=\"radio\"\n              id=\"option-1\"\n              value=\"true\"\n              ref=\"option_1\"\n              name=\"true_false_ans\"\n            />\n          </div>\n          <div class=\"col-sm-10\">\n            <input type=\"text\" class=\"form-control\" value=\"True\" disabled />\n          </div>\n        </div>\n        <div class=\"row mt-2\">\n          <div class=\"col-sm-1\">2.</div>\n          <div class=\"col-sm-1\">\n            <input\n              type=\"radio\"\n              id=\"option-2\"\n              value=\"true\"\n              ref=\"option-2\"\n              name=\"true_false_ans\"\n            />\n          </div>\n          <div class=\"col-sm-10\">\n            <input type=\"text\" class=\"form-control\" value=\"False\" disabled />\n          </div>\n        </div>\n      </div> -->\n\n      <div class=\"mt-3 text-end\" v-if=\"!true_false\">\n        <button @click=\"delOption()\" class=\"btn btn-outline-danger del\">\n          Delete\n        </button>\n        <button @click=\"addNew()\" class=\"btn btn-outline-info\">Add More</button>\n      </div>\n      <!-- <div class=\"mt-3\"></div>\n      <div></div> -->\n    </div>\n  </div>\n</template>\n\n<script>\nimport axios from 'axios'\nimport axios2 from 'vue-axios'\n// import $ from 'jquery'\nimport { base_url } from '../../../Config.js'\nimport { VueEditor } from 'vue3-editor'\n\nexport default {\n  name: 'ButtonGroups',\n  components: {\n    VueEditor,\n  },\n\n  data() {\n    return {\n      category: [],\n      option_no: 1,\n      question: '',\n      question_type: '',\n      question_tag: [],\n      // multiple_ans: true,\n      // single_ans: false,\n      // true_false: false,\n      mul_obj: [\n        {\n          no: 1,\n          checkbox_radio: 1,\n          com: 1,\n        },\n      ],\n    }\n  },\n\n  Created() {\n    this.login()\n  },\n  methods: {\n    async login() {\n      let data = {\n        username: 'Admin',\n        password: '123456789',\n      }\n\n      await axios.post(`${base_url}/login`, data).then((response) => {\n        let token = response.data.token\n        let userInfo = response.data.user\n        localStorage.setItem('auth-token', token)\n        localStorage.setItem('user-info', JSON.stringify(userInfo))\n      })\n    },\n    getCategory() {\n      let token = localStorage.getItem('auth-token')\n      console.warn(token)\n      var BASE_URL = base_url\n      var ENDPOINT = 'question-categories'\n      // await axios\n      //   .create({\n      //     baseURL: BASE_URL,\n      //     headers: {\n      //       Accept: 'application/json',\n      //       Authorization: 'Bearer ' + token,\n      //     },\n      //   })\n      //   .get(ENDPOINT)\n      //   .then((res) => {\n      //     console.log(res)\n      //     this.category = res.data.question_categories\n      //   })\n\n      axios2\n        .get(`${BASE_URL}/question-categories`, {\n          headers: {\n            Accept: 'application/json',\n            Authorization: 'Bearer ' + token,\n          },\n        })\n        .then((response) => {\n          console.log(response.data)\n        })\n        .catch((error) => {\n          console.log(error)\n        })\n    },\n    addNew() {\n      let no = this.option_no + 1\n      this.option_no = no\n      let obj = {\n        no: this.option_no,\n        checkbox_radio: this.option_no,\n        com: this.option_no,\n      }\n      this.mul_obj.push(obj)\n    },\n    delOption() {\n      if (this.mul_obj.length > 1) {\n        this.mul_obj.pop()\n        let no = this.option_no - 1\n        this.option_no = no\n        console.log(this.option_no)\n      }\n      // var option = document.getElementById('options_for_multiple_ans')\n      // if (this.option_no > 1) {\n      //   option.removeChild(option.lastChild)\n      //   this.option_no = this.option_no - 1\n      // }\n    },\n    type() {\n      this.question_type = this.$refs.question_type.value\n      if (this.$refs.question_type.value == 'checkbox') {\n        this.multiple_ans = true\n        this.single_ans = false\n        this.true_false = false\n      } else if (this.$refs.question_type.value == 'radio') {\n        this.multiple_ans = false\n        this.single_ans = true\n        this.true_false = false\n      } else {\n        this.multiple_ans = false\n        this.single_ans = false\n        this.true_false = true\n      }\n    },\n\n    addQuestion() {\n      // let question_type = this.question_type\n      // let question_tag = this.question_tag\n      // let question = this.question\n      // let options = this.option_no\n      // let op = ''\n      //   for (let i = 0; i < options; i++) {\n      //     if(options.length==1){\n      //  op+=\n      //     }\n    },\n    handleImageAdded: function (file, Editor, cursorLocation, resetUploader) {\n      var formData = new FormData()\n      formData.append('image', file)\n\n      axios({\n        url: `${base_url}/upload`,\n        method: 'POST',\n        data: formData,\n      })\n        .then((result) => {\n          console.log(result)\n          const base_url = result.data.base_url // Get url from response\n          const image_url = result.data.img_url\n          const url = base_url + '/' + image_url\n          Editor.insertEmbed(cursorLocation, 'image', url)\n          resetUploader()\n        })\n        .catch((err) => {\n          console.log(err)\n        })\n    },\n  },\n  mounted() {\n    //this.getCategory()\n  },\n  beforeMount() {\n    this.getCategory()\n  },\n}\n</script>\n\n<style scoped>\n.del {\n  margin-right: 10px;\n}\n.qus_tag {\n  height: 50px;\n}\n</style>\n"]},"metadata":{},"sourceType":"module"}